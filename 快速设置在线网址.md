# 🚀 快速设置在线网址 - 详细步骤

## 方法 1: 使用 ngrok（推荐，最稳定）

### 步骤 1: 安装 ngrok

打开终端，运行：

```bash
# 检查是否已安装
which ngrok

# 如果没安装，使用 Homebrew 安装
brew install ngrok
```

如果没有 Homebrew，先安装：
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### 步骤 2: 注册 ngrok 账号

1. 访问：https://dashboard.ngrok.com/signup
2. 使用邮箱注册（可以用 Gmail、QQ 邮箱等）
3. 注册后会自动跳转到 Dashboard

### 步骤 3: 获取 Authtoken

1. 在 ngrok Dashboard 页面，点击左侧菜单 "Your Authtoken"
2. 或者访问：https://dashboard.ngrok.com/get-started/your-authtoken
3. 复制显示的 authtoken（类似：`2abc123def456ghi789jkl_1mN2oP3qR4sT5uV6wX7yZ`）

### 步骤 4: 配置 ngrok

在终端运行：

```bash
ngrok config add-authtoken 你的authtoken
```

例如：
```bash
ngrok config add-authtoken 2abc123def456ghi789jkl_1mN2oP3qR4sT5uV6wX7yZ
```

看到 "Authtoken saved" 就成功了！

### 步骤 5: 启动 Web 应用

**终端 1** - 启动你的 Web 应用：

```bash
cd /Users/huihui/live-monitor
source venv/bin/activate
python web_app.py
```

等待看到：
```
📍 访问地址: http://localhost:5001
 * Running on http://0.0.0.0:5001
```

### 步骤 6: 启动 ngrok

**终端 2**（新开一个终端窗口）：

```bash
ngrok http 5001
```

你会看到类似这样的输出：
```
ngrok

Session Status                online
Account                       your-email@example.com
Version                       3.x.x
Region                        United States (us)
Latency                       45ms
Web Interface                 http://127.0.0.1:4040
Forwarding                    https://abc123.ngrok-free.app -> http://localhost:5001

Connections                   ttl     opn     rt1     rt5     p50     p90
                              0       0       0.00    0.00    0.00    0.00
```

**重要**：`https://abc123.ngrok-free.app` 就是你的在线网址！

### 步骤 7: 测试访问

1. 复制 ngrok 提供的网址（如：`https://abc123.ngrok-free.app`）
2. 在浏览器中打开
3. 应该能看到你的网站了！

### 查看访问日志

访问：http://127.0.0.1:4040 可以看到所有访问记录

---

## 方法 2: 使用 localtunnel（无需注册，更简单）

### 步骤 1: 安装 Node.js（如果还没有）

```bash
# 检查是否已安装
node --version

# 如果没安装，使用 Homebrew 安装
brew install node
```

### 步骤 2: 安装 localtunnel

```bash
npm install -g localtunnel
```

### 步骤 3: 启动 Web 应用

**终端 1**：
```bash
cd /Users/huihui/live-monitor
source venv/bin/activate
python web_app.py
```

### 步骤 4: 启动 localtunnel

**终端 2**：
```bash
lt --port 5001
```

会显示：
```
your url is: https://random-name.loca.lt
```

这个就是你的在线网址！

---

## 🎯 推荐使用方法 1 (ngrok)

**优点**：
- ✅ 更稳定
- ✅ 可以查看访问日志
- ✅ 有 Web 管理界面
- ✅ 支持固定域名（付费版）

**缺点**：
- ⚠️ 需要注册账号
- ⚠️ 免费版网址每次启动可能不同

---

## 📝 注意事项

1. **保持两个终端都运行**
   - 终端 1：Web 应用必须一直运行
   - 终端 2：ngrok 必须一直运行

2. **网址会变化**
   - 免费版 ngrok 每次启动网址可能不同
   - 如果需要固定网址，需要付费版

3. **停止服务**
   - 按 `Ctrl+C` 停止 ngrok 或 Web 应用
   - 停止后网址就失效了

4. **安全提示**
   - 网址是公开的，任何人都可以访问
   - 如果需要密码保护，需要额外配置

---

## 🆘 遇到问题？

### ngrok 安装失败
```bash
# 手动下载安装
# 访问：https://ngrok.com/download
# 下载 Mac 版本，解压后放到 /usr/local/bin/
```

### 端口被占用
```bash
# 使用其他端口
python web_app.py 8080
ngrok http 8080
```

### 无法访问网址
- 检查 Web 应用是否在运行
- 检查 ngrok 是否在运行
- 检查防火墙设置

---

## ✅ 完成检查清单

- [ ] ngrok 已安装
- [ ] ngrok 账号已注册
- [ ] authtoken 已配置
- [ ] Web 应用已启动（端口 5001）
- [ ] ngrok 已启动并显示网址
- [ ] 可以在浏览器中访问网址

完成以上步骤后，你就有一个可以在任何地方访问的在线网址了！🎉

